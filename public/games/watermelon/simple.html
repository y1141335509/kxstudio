<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>简化测试</title>
</head>
<body style="background:#000; color:#fff; font-family:monospace;">
    <h1>简化测试</h1>
    <div id="status">准备中...</div>
    <canvas id="canvas" width="800" height="600" style="border:1px solid #666;"></canvas>
    
    <script>
        const status = document.getElementById('status');
        const canvas = document.getElementById('canvas');
        
        function updateStatus(msg) {
            status.textContent = msg;
            console.log(msg);
        }
        
        updateStatus('检查文件...');
        
        // 直接加载index.js
        const script = document.createElement('script');
        script.src = './index.js';
        script.onload = () => {
            updateStatus('脚本加载成功，检查Engine...');
            
            if (typeof Engine === 'undefined') {
                updateStatus('错误：Engine未定义');
                return;
            }
            
            updateStatus('创建引擎...');
            try {
                const engine = new Engine();
                updateStatus('启动游戏...');
                
                engine.startGame().then(() => {
                    updateStatus('游戏启动成功！');
                }).catch(err => {
                    updateStatus('启动失败: ' + err.message);
                });
            } catch (e) {
                updateStatus('引擎错误: ' + e.message);
            }
        };
        script.onerror = () => {
            updateStatus('脚本加载失败');
        };
        document.head.appendChild(script);
    </script>
</body>
</html>